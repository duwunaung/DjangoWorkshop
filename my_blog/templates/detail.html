{% extends 'base/base.html' %}

{% block body %}
  <div class="container">
    <article class="blog-post">
      <h2 class="post-title">{{ blog.title }}</h2>
      <p class="post-meta">Posted on {{ blog.createddate|date:'D d M Y' }} by {{ blog.author }}</p>
      <img src="{{ blog.image.url }}" alt="Blog Post Image" class="post-image" />
      <p class="post-content">{{ blog.content|linebreaks }}</p>
    </article>
    <section class="comments-section">
      <h3>Comments</h3>
      {% for comment in comments %}
        <div class="comment">
          <p class="comment-meta">
            <strong>{{ comment.name }}</strong> ({{ comment.createddate|timesince }} ago)
          </p>
          <p class="comment-text">{{ comment.message }}</p>
        </div>
      {% endfor %}
    </section>
    <section class="comment-form-section">
      <h3>Leave a Comment</h3>
      <form class="comment-form" method="post">
        {% csrf_token %}

        {{ form }}
        <button type="submit" class="submit-button">Comment</button>
      </form>
    </section>
  </div>
{% endblock %}
